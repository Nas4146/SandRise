---
interface Props {
  className?: string;
}

const { className = '' } = Astro.props;

const organizations = [
  {
    name: 'Broadcom',
    shortName: 'BROADCOM',
    brandColor: '#CA0404', // Broadcom Red
    type: 'company',
    logo: '/images/logos/Broadcom_Logo_Red-Black_no-tag.png'
  },
  {
    name: 'VMware',
    shortName: 'VMware',
    brandColor: '#0091DA', // VMware Blue
    type: 'company',
    logo: '/images/logos/vmware.png'
  },
  {
    name: 'AWS',
    shortName: 'aws',
    brandColor: '#FF9900', // AWS Orange
    type: 'company',
    logo: '/images/logos/aws.png'
  },
  {
    name: 'Fannie Mae',
    shortName: 'FNMA',
    brandColor: '#005DAA', // Fannie Mae Blue
    type: 'company',
    logo: '/images/logos/fannie-mae.png'
  },
  {
    name: 'UT Austin McCombs',
    shortName: 'McCombs',
    brandColor: '#BF5700', // UT Burnt Orange
    type: 'education',
    logo: '/images/logos/4_RGB_McCombs_School_Brand_Formal.png'
  }
];
---

<div class={`trusted-by ${className}`}>
  <div class="trusted-logos">
    {organizations.map((org) => (
      <div 
        class="trusted-logo" 
        title={org.name}
        style={`--brand-color: ${org.brandColor}`}
        data-org={org.type}
      >
        <img
          src={org.logo}
          alt={`${org.name} logo`}
          loading="lazy"
          decoding="async"
        />
      </div>
    ))}
  </div>
</div>

<style>
  .trusted-by {
    text-align: center;
    margin-top: var(--space-xl);
  }

  .trusted-by-label {
    font-size: var(--font-size-xs);
    color: var(--color-text-tertiary);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    font-weight: 500;
    margin: 0 0 var(--space-md) 0;
  }

  .trusted-logos {
    display: flex;
    justify-content: flex-start;
    align-items: center;
    gap: clamp(var(--space-sm), 3vw, var(--space-lg));
    margin-top: var(--space-sm);
    margin-inline: 0;
    width: 100%;
    flex-wrap: nowrap;
    padding: 0;
  }

  .trusted-logo {
    display: flex;
    align-items: center;
    justify-content: center;
  min-width: clamp(120px, 18vw, 150px);
  height: clamp(54px, 8vw, 64px);
  padding: var(--space-2xs) var(--space-xs);
    border-radius: var(--radius-sm);
    background-color: transparent;
    border: 1px solid rgba(17, 34, 21, 0.14);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    overflow: hidden;
    box-shadow: 0 12px 32px rgba(17, 34, 21, 0.08);
  }

  .trusted-logo::before {
    display: none;
  }

  .trusted-logo:hover {
    transform: translateY(-3px);
    border-color: color-mix(in srgb, var(--brand-color) 24%, transparent 76%);
    box-shadow: 
      0 18px 36px rgba(17, 34, 21, 0.16),
      0 6px 12px rgba(17, 34, 21, 0.12);
  }

  .trusted-logo img {
  width: clamp(72px, 8vw, 108px);
  max-height: clamp(28px, 6vw, 32px);
  height: auto;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.12));
    transition: transform 0.3s ease;
    object-fit: contain;
    mix-blend-mode: multiply;
  }

  .trusted-logo:hover img {
    transform: scale(1.04);
  }

  /* Organization-specific styling */
  .trusted-logo[data-org="education"] {
    border-style: dashed;
    border-color: rgba(191, 87, 0, 0.24);
  }

  @media (prefers-color-scheme: dark) {
    .trusted-logo {
      background-color: rgba(17, 34, 21, 0.45);
      border-color: rgba(255, 255, 255, 0.14);
    }
    
    .trusted-logo:hover {
      box-shadow: 
        0 18px 36px rgba(0, 0, 0, 0.35),
        0 6px 16px rgba(0, 0, 0, 0.25);
    }
  }

  @media (max-width: 768px) {
    .trusted-logos {
      gap: var(--space-md);
    }
    
    .trusted-logo {
      min-width: 70px;
      height: 44px;
      padding: var(--space-3xs) var(--space-xs);
    }
  }

  @media (max-width: 520px) {
    .trusted-logos {
      gap: var(--space-sm);
    }
    
    .trusted-logo {
      min-width: 60px;
      height: 40px;
      padding: var(--space-4xs) var(--space-2xs);
    }
  }
</style>