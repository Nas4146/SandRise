---
import SectionHeading from '@components/SectionHeading.astro';

interface Props {
  className?: string;
}

const { className = '' } = Astro.props;

const techCategories = [
  {
    title: 'Languages & Frameworks',
    technologies: [
      { name: 'TypeScript', logo: '/images/tech/typescript.svg', color: '#3178C6' },
      { name: 'JavaScript', logo: '/images/tech/javascript.svg', color: '#F7DF1E' },
      { name: 'Python', logo: '/images/tech/python.svg', color: '#3776AB' },
      { name: 'Swift', logo: '/images/tech/swift.svg', color: '#FA7343' },
      { name: 'React', logo: '/images/tech/react.svg', color: '#61DAFB' },
      { name: 'React Native', logo: '/images/tech/react-native.svg', color: '#61DAFB' },
      { name: 'Next.js', logo: '/images/tech/nextjs.svg', color: '#000000' },
      { name: 'Astro', logo: '/images/tech/astro.svg', color: '#FF5D01' },
      { name: 'Node.js', logo: '/images/tech/nodejs.svg', color: '#339933' },
    ]
  },
  {
    title: 'Cloud Platforms & Infrastructure',
    technologies: [
      { name: 'AWS', logo: '/images/tech/aws.svg', color: '#FF9900' },
      { name: 'Azure', logo: '/images/tech/azure.svg', color: '#0078D4' },
      { name: 'Google Cloud', logo: '/images/tech/gcp.svg', color: '#4285F4' },
      { name: 'Vercel', logo: '/images/tech/vercel.svg', color: '#000000' },
      { name: 'Docker', logo: '/images/tech/docker.svg', color: '#2496ED' },
      { name: 'Kubernetes', logo: '/images/tech/kubernetes.svg', color: '#326CE5' },
    ]
  },
  {
    title: 'Databases & Backend Services',
    technologies: [
      { name: 'PostgreSQL', logo: '/images/tech/postgresql.svg', color: '#336791' },
      { name: 'MongoDB', logo: '/images/tech/mongodb.svg', color: '#47A248' },
      { name: 'Redis', logo: '/images/tech/redis.svg', color: '#DC382D' },
      { name: 'Supabase', logo: '/images/tech/supabase.svg', color: '#3ECF8E' },
      { name: 'Firebase', logo: '/images/tech/firebase.svg', color: '#FFCA28' },
      { name: 'GraphQL', logo: '/images/tech/graphql.svg', color: '#E10098' },
    ]
  },
  {
    title: 'Product & Analytics',
    technologies: [
      { name: 'Mixpanel', logo: '/images/tech/mixpanel.svg', color: '#7856FF' },
      { name: 'Amplitude', logo: '/images/tech/amplitude.svg', color: '#108EE9' },
      { name: 'Segment', logo: '/images/tech/segment.svg', color: '#52BD94' },
      { name: 'PostHog', logo: '/images/tech/posthog.svg', color: '#F54E00' },
      { name: 'Google Analytics', logo: '/images/tech/ga.svg', color: '#E37400' },
      { name: 'Datadog', logo: '/images/tech/datadog.svg', color: '#632CA6' },
    ]
  },
  {
    title: 'Design & Prototyping',
    technologies: [
      { name: 'Figma', logo: '/images/tech/figma.svg', color: '#F24E1E' },
      { name: 'Framer', logo: '/images/tech/framer.svg', color: '#0055FF' },
      { name: 'Storybook', logo: '/images/tech/storybook.svg', color: '#FF4785' },
      { name: 'Adobe XD', logo: '/images/tech/adobe-xd.svg', color: '#FF61F6' },
    ]
  },
  {
    title: 'Development Tools',
    technologies: [
      { name: 'Git', logo: '/images/tech/git.svg', color: '#F05032' },
      { name: 'GitHub', logo: '/images/tech/github.svg', color: '#181717' },
      { name: 'VS Code', logo: '/images/tech/vscode.svg', color: '#007ACC' },
      { name: 'Linear', logo: '/images/tech/linear.svg', color: '#5E6AD2' },
      { name: 'Jira', logo: '/images/tech/jira.svg', color: '#0052CC' },
      { name: 'Notion', logo: '/images/tech/notion.svg', color: '#000000' },
    ]
  },
  {
    title: 'Testing & Quality',
    technologies: [
      { name: 'Jest', logo: '/images/tech/jest.svg', color: '#C21325' },
      { name: 'Cypress', logo: '/images/tech/cypress.svg', color: '#17202C' },
      { name: 'Playwright', logo: '/images/tech/playwright.svg', color: '#2EAD33' },
      { name: 'Postman', logo: '/images/tech/postman.svg', color: '#FF6C37' },
    ]
  },
  {
    title: 'Mobile Development',
    technologies: [
      { name: 'Expo', logo: '/images/tech/expo.svg', color: '#000020' },
      { name: 'Xcode', logo: '/images/tech/xcode.svg', color: '#147EFB' },
      { name: 'SwiftUI', logo: '/images/tech/swiftui.svg', color: '#007AFF' },
      { name: 'TestFlight', logo: '/images/tech/testflight.svg', color: '#0D96F6' },
    ]
  }
];
---

<section class={`technologies-section ${className}`}>
  <div class="container">
    <SectionHeading
      eyebrow="Tech Stack"
      title="Technologies & Tools"
      description="A comprehensive view of platforms, languages, and tools used across product development, analytics, and delivery."
    />
    
    <div class="tech-categories">
      {techCategories.map((category) => (
        <div class="tech-category">
          <h3 class="category-title">{category.title}</h3>
          <div class="tech-grid">
            {category.technologies.map((tech) => (
              <div 
                class="tech-item"
                title={tech.name}
                style={`--tech-color: ${tech.color}`}
              >
                <div class="tech-logo-wrapper">
                  <img
                    src={tech.logo}
                    alt={`${tech.name} logo`}
                    loading="lazy"
                    decoding="async"
                    class="tech-logo"
                  />
                </div>
                <span class="tech-name">{tech.name}</span>
              </div>
            ))}
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .technologies-section {
    padding: var(--space-3xl) 0;
    background: var(--color-surface);
  }

  .tech-categories {
    display: flex;
    flex-direction: column;
    gap: var(--space-2xl);
    margin-top: var(--space-2xl);
  }

  .tech-category {
    display: flex;
    flex-direction: column;
    gap: var(--space-lg);
  }

  .category-title {
    font-size: var(--font-size-lg);
    font-weight: 600;
    color: var(--color-text-primary);
    margin: 0;
    padding-bottom: var(--space-sm);
    border-bottom: 2px solid var(--color-border);
  }

  .tech-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: var(--space-md);
  }

  .tech-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-xs);
    padding: var(--space-md);
    border-radius: var(--radius-lg);
    background: var(--color-background);
    border: 1px solid var(--color-border);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    cursor: default;
  }

  .tech-item:hover {
    transform: translateY(-4px);
    border-color: color-mix(in srgb, var(--tech-color) 40%, transparent 60%);
    box-shadow: 
      0 12px 24px rgba(17, 34, 21, 0.12),
      0 4px 8px rgba(17, 34, 21, 0.08);
  }

  .tech-logo-wrapper {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .tech-logo {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
    transition: transform 0.3s ease;
  }

  .tech-item:hover .tech-logo {
    transform: scale(1.1);
  }

  .tech-name {
    font-size: var(--font-size-xs);
    font-weight: 500;
    color: var(--color-text-secondary);
    text-align: center;
    line-height: 1.3;
  }

  @media (prefers-color-scheme: dark) {
    .tech-item {
      background: rgba(17, 34, 21, 0.3);
      border-color: rgba(255, 255, 255, 0.1);
    }

    .tech-item:hover {
      box-shadow: 
        0 12px 24px rgba(0, 0, 0, 0.3),
        0 4px 8px rgba(0, 0, 0, 0.2);
    }
  }

  @media (max-width: 768px) {
    .tech-grid {
      grid-template-columns: repeat(auto-fill, minmax(110px, 1fr));
      gap: var(--space-sm);
    }

    .tech-item {
      padding: var(--space-sm);
    }

    .tech-logo-wrapper {
      width: 40px;
      height: 40px;
    }

    .category-title {
      font-size: var(--font-size-md);
    }
  }

  @media (max-width: 520px) {
    .tech-grid {
      grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
    }

    .tech-item {
      padding: var(--space-xs);
    }

    .tech-logo-wrapper {
      width: 36px;
      height: 36px;
    }
  }
</style>
